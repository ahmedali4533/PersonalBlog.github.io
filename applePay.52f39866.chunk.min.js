(self.webpackJsonp__wix_thunderbolt_app = self.webpackJsonp__wix_thunderbolt_app || []).push([
    [3944], {
        79476: function(e, n, t) {
            "use strict";
            t.r(n), t.d(n, {
                page: function() {
                    return f
                }
            });
            var r = t(95793),
                o = t(31191),
                i = t(43757),
                a = t(19095),
                s = t(5096),
                c = function(e, n, t) {
                    return {
                        error: {
                            errorCode: e,
                            message: n,
                            error: t
                        }
                    }
                },
                u = "APPLE_PAY_IS_NOT_AVAILABLE_ERROR",
                l = "BAD_REQUEST_ERROR",
                p = "WIX_ERROR",
                d = function(e) {
                    return function() {
                        for (var n = [], t = 0; t < arguments.length; t++) n[t] = arguments[t];
                        return window.ApplePaySession ? "function" == typeof e ? e.apply(void 0, (0, o.ev)([], (0, o.CR)(n))) : void 0 : {
                            error: {
                                errorCode: u
                            }
                        }
                    }
                },
                h = (0, i.ff)([s.Zr], (function(e) {
                    var n = e.siteAssets;
                    return {
                        getTpaHandlers: function() {
                            var e = this;
                            return {
                                applePayInvokeMethod: d((function(n, t) {
                                    return (0, o.mG)(e, void 0, void 0, (function() {
                                        return (0, o.Jh)(this, (function(e) {
                                            if (!t.methodName) return [2, c(l)];
                                            switch ("canMakePayments" === t.methodName && console.log(t.payload), t.methodName) {
                                                case "canMakePayments":
                                                    try {
                                                        return [2, {
                                                            result: window.ApplePaySession.canMakePayments()
                                                        }]
                                                    } catch (e) {
                                                        return [2, c(p, "ApplePaySession.canMakePayments() failed", e)]
                                                    }
                                                case "supportsVersion":
                                                    try {
                                                        return [2, {
                                                            result: window.ApplePaySession.supportsVersion(t.payload.version)
                                                        }]
                                                    } catch (e) {
                                                        return [2, c(p, "ApplePaySession.supportsVersion(" + t.payload.version + ") failed", e)]
                                                    }
                                                default:
                                                    return [2, c(l)]
                                            }
                                            return [2]
                                        }))
                                    }))
                                })),
                                applePayStartSession: d((function(t, r, i) {
                                    var s = r.paymentRequest,
                                        u = r.applePayVersion,
                                        l = r.callbackApiId;
                                    return (0, o.mG)(e, void 0, Promise, (function() {
                                        var e, t, r, d, h, f = this;
                                        return (0, o.Jh)(this, (function(m) {
                                            switch (m.label) {
                                                case 0:
                                                    return m.trys.push([0, 4, , 5]), [4, (0, a.FR)(n.clientTopology.moduleRepoUrl)];
                                                case 1:
                                                    return e = m.sent(), (t = window.document.querySelector("#" + i.originCompId + " > iframe")) ? [4, e.api.request(l, {
                                                        target: t
                                                    })] : [2, c(p, "Can not find a TPA iframe with id: " + i.originCompId)];
                                                case 2:
                                                    return r = m.sent(), (d = new window.ApplePaySession(u, s)).onvalidatemerchant = function(e) {
                                                        return (0, o.mG)(f, void 0, void 0, (function() {
                                                            var n;
                                                            return (0, o.Jh)(this, (function(t) {
                                                                switch (t.label) {
                                                                    case 0:
                                                                        return [4, r.onValidateMerchant(e)];
                                                                    case 1:
                                                                        return n = t.sent(), [2, d.completeMerchantValidation(n)]
                                                                }
                                                            }))
                                                        }))
                                                    }, d.onshippingcontactselected = function(e) {
                                                        return (0, o.mG)(f, void 0, void 0, (function() {
                                                            var n;
                                                            return (0, o.Jh)(this, (function(t) {
                                                                switch (t.label) {
                                                                    case 0:
                                                                        return [4, r.onShippingContactSelected(e)];
                                                                    case 1:
                                                                        return n = t.sent(), [2, d.completeShippingContactSelection(n)]
                                                                }
                                                            }))
                                                        }))
                                                    }, d.onshippingmethodselected = function(e) {
                                                        return (0, o.mG)(f, void 0, void 0, (function() {
                                                            var n;
                                                            return (0, o.Jh)(this, (function(t) {
                                                                switch (t.label) {
                                                                    case 0:
                                                                        return [4, r.onShippingMethodSelected(e)];
                                                                    case 1:
                                                                        return n = t.sent(), [2, d.completePaymentMethodSelection(n)]
                                                                }
                                                            }))
                                                        }))
                                                    }, d.onpaymentauthorized = function(e) {
                                                        return (0, o.mG)(f, void 0, void 0, (function() {
                                                            var n;
                                                            return (0, o.Jh)(this, (function(t) {
                                                                switch (t.label) {
                                                                    case 0:
                                                                        return [4, r.onPaymentAuthorized(e)];
                                                                    case 1:
                                                                        return n = t.sent(), [2, d.completePayment(n)]
                                                                }
                                                            }))
                                                        }))
                                                    }, d.oncancel = function() {
                                                        return (0, o.mG)(f, void 0, void 0, (function() {
                                                            return (0, o.Jh)(this, (function(e) {
                                                                switch (e.label) {
                                                                    case 0:
                                                                        return [4, r.onCancel()];
                                                                    case 1:
                                                                        return [2, e.sent()]
                                                                }
                                                            }))
                                                        }))
                                                    }, [4, r.onClick()];
                                                case 3:
                                                    return m.sent().canceled ? [2] : (d.begin(), [3, 5]);
                                                case 4:
                                                    return h = m.sent(), [2, c(p, null == h ? void 0 : h.message, h)];
                                                case 5:
                                                    return [2]
                                            }
                                        }))
                                    }))
                                }))
                            }
                        }
                    }
                })),
                f = function(e) {
                    e(r.g).to(h)
                }
        }
    }
]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/applePay.52f39866.chunk.min.js.map